{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "commits": {
      "type": "object",
      "properties": {
        "cpu": {
          "type": "object",
          "properties": {
            "instance_type": { "type": "string" },
            "command": { "type": "string" },
            "compression": { "type": "boolean" }
          },
          "required": ["instance_type", "command", "compression"]
        },
        "gpu": {
          "type": "object",
          "properties": {
            "instance_type": { "type": "string" },
            "command": { "type": "string" },
            "compression": { "type": "boolean" }
          },
          "required": ["instance_type", "command", "compression"]
        }
      },
      "required": ["cpu", "gpu"]
    },
    "instance_types": {
      "type": "object",
      "properties": {
        "cpu_default": {
          "type": "object",
          "properties": {
            "instance_template": { "type": "string" },
            "zone": { "type": "string" }
          },
          "required": ["instance_template", "zone"]
        }
      },
      "required": ["cpu_default"]
    },
    "repository": {
      "type": "object",
      "properties": {
        "remote": { "type": "string" },
        "key": { "type": "string" }
      },
      "required": ["remote", "key"]
    },
    "output_repository": {
      "type": "object",
      "properties": {
        "remote": { "type": "string" },
        "key": { "type": "string" }
      },
      "required": ["remote", "key"]
    }
  },
  "required": ["commits", "instance_types", "repository", "output_repository"]
}
